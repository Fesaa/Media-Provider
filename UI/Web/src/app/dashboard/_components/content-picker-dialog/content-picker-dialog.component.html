<p-dialog resizable="false" *transloco="let t;prefix:'dashboard'" [header]="t('content-picker.header')" [(visible)]="visible"
          [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" [style]="{ width: '50vw' }"
          [contentStyle]="{ 'overflow-y': 'visible' }" (onShow)="loadContent()">
  <div class="flex flex-col mb-2">

    <h1>{{ info.name }}</h1>

    <div class="flex w-full flex-grow justify-start gap-4">
      <button class="btn btn-secondary" (click)="reverse()">
        <span class="pi pi-arrows-v"></span>
      </button>
      <button class="btn btn-secondary" (click)="unselectAll()">
        <span class="pi pi-times"></span>
      </button>
      <button class="btn btn-primary" (click)="selectAll()">
        <span class="pi pi-check"></span>
      </button>
    </div>

    @if (!loading) {
      <div class="max-h-80 overflow-auto">
        <p-tree [(selection)]="selection"
                [value]="content"
                selectionMode="checkbox"
                styleClass="w-full"
        />
      </div>
    }

    <div class="flex w-full flex-grow justify-end gap-4 mt-10">
      <button class="btn btn-primary" (click)="close()">
        {{t('cancel')}}
      </button>
      <button class="btn btn-secondary" (click)="submit()">
        {{t('set-filter')}}
      </button>
    </div>
  </div>

</p-dialog>
