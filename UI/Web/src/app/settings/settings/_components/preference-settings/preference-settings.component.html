<div class="flex w-full flex-grow">

  @if (preferences !== undefined) {

    <div class="flex flex-col flex-grow gap-4">

      <div class="flex items-center justify-between">
        <label for="subscriptionRefreshHour" pTooltip="This is the hour" tooltipPosition="right">Download subscriptions at</label>
        <p-inputNumber suffix=" h"
                       id="subscriptionRefreshHour"
                       [(ngModel)]="preferences.subscriptionRefreshHour"
                       showButtons="true"
                       min="0"
                       max="23"
        />
      </div>

      <div class="flex items-center justify-between">
        <label class="flex-grow" for="logEmptyDownloads">Notification when a subscription downloads 0 items</label>
        <p-toggle-switch id="logEmptyDownloads" [(ngModel)]="preferences.logEmptyDownloads" />
      </div>

      <div class="flex items-center justify-between">
        <label class="flex-grow">Dynasty tags to save as genre</label>
        <p-button severity="help" (onClick)="showDynastyDialog()">Configure</p-button>

        <app-dynasty-genres [(showDialog)]="displayDynastyGenresDialog" [(preferences)]="preferences" />

      </div>

      <div class="flex justify-end mt-10">
        <p-button severity="info" (onClick)="save()" >Save</p-button>
      </div>

    </div>
  }

</div>
